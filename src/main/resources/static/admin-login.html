<!DOCTYPE html>
<html>
<head>
<title>Admin Login - ParkWave</title>
<style>
body { font-family:Arial; background:#f4f6f8; padding:20px; display:flex; justify-content:center; align-items:center; min-height:100vh; }
.login-container { background:white; padding:40px; border-radius:12px; box-shadow:0 4px 20px rgba(0,0,0,0.1); width:400px; }
h2 { text-align:center; color:#333; margin-bottom:30px; }
.form-group { margin-bottom:20px; }
label { display:block; margin-bottom:5px; color:#666; }
input { width:100%; padding:12px; border:1px solid #ddd; border-radius:6px; box-sizing:border-box; }
.btn { width:100%; padding:12px; background:#e74c3c; color:white; border:none; border-radius:6px; cursor:pointer; font-size:16px; }
.btn:hover { background:#c0392b; }
.back-link { text-align:center; margin-top:20px; }
.back-link a { color:#3498db; text-decoration:none; }
.error { color:#e74c3c; text-align:center; margin-bottom:10px; }
</style>
</head>
<body>

<div class="login-container">
<h2>Admin Login</h2>
<div id="error" class="error" style="display:none;"></div>

<form onsubmit="login(event)">
<div class="form-group">
<label>Username:</label>
<input type="text" id="username" required>
</div>

<div class="form-group">
<label>Password:</label>
<input type="password" id="password" required>
</div>

<button type="submit" class="btn">Login</button>
</form>

<div class="back-link">
<a href="index.html">‚Üê Back to Home</a>
</div>
</div>

<script>
function login(event) {
  event.preventDefault();
  
  const username = document.getElementById("username").value;
  const password = document.getElementById("password").value;
  
  fetch("http://localhost:8080/api/admin/login", {
    method: "POST",
    headers: { "Content-Type": "application/x-www-form-urlencoded" },
    body: `username=${username}&password=${password}`
  })
  .then(res => {
    if (!res.ok) throw new Error();
    return res.json();
  })
  .then(admin => {
    localStorage.setItem("adminUser", JSON.stringify(admin));
    window.location.href = "admin-dashboard.html";
  })
  .catch(() => {
    document.getElementById("error").style.display = "block";
    document.getElementById("error").textContent = "Invalid username or password";
  });
}
</script>

</body>
</html>
